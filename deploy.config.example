# -----------------------------------------------------------------------------
# Deploy Configuration Example
# -----------------------------------------------------------------------------
# このファイルを 'deploy.config' にリネームまたはコピーして使用してください。
# gitにはコミットしないでください (.gitignore推奨)。
#
# NOTE: 多くの設定はフォルダ名から自動生成されます:
#   - IMAGE_NAME, APP_NAME: フォルダ名がデフォルト
#   - VPS_DEPLOY_DIR: VPS_BASE_DIR/フォルダ名
#   - fly.io app名: フォルダ名
# -----------------------------------------------------------------------------

# =============================================================================
# VPS Docker デプロイ (make docker-deploy) 用の設定
# =============================================================================

# VPSのSSH接続ユーザー
VPS_USER = ubuntu

# VPSのIPアドレスまたはホスト名
VPS_HOST = 192.168.1.100

# SSHのポート番号 (デフォルト: 22)
SSH_PORT = 2222

# VPS上のベースディレクトリ (実際のパスは VPS_BASE_DIR/フォルダ名 になる)
VPS_BASE_DIR = /var/www

# 公開ホスト名（Caddyのリバースプロキシ設定で使用）
# ※ DNSでこのホスト名がVPSのIPを指すよう設定してください
PUBLIC_HOST = myapp.example.com

# Caddy設定（VPS上の共有リバースプロキシ）
CADDY_DIR = /home/ubuntu/caddy
CADDY_NETWORK = caddy-net

# アプリの環境変数は .env.production で管理します。
# .env.production を作成し、以下のような内容を設定してください:
#
#   ADMIN_EMAIL=admin@example.com
#   ADMIN_NAME=Administrator
#   SMTP_HOST=smtp.example.com
#   SMTP_PORT=587
#   SMTP_USERNAME=...
#   SMTP_PASSWORD=...
#   SMTP_FROM=noreply@example.com
#   SMTP_FROM_NAME=MyApp
#
# デプロイ時に .env.production が VPS の .env として転送されます。
# (APP_NAME, SERVER_ADDR, WEBAUTHN_* は自動追加されます)

# =============================================================================
# Cloudflare DNS 設定 (make dns-setup 用)
# =============================================================================
# DNS レコードを自動作成する場合に設定
# ※ DNS 伝播後に make docker-deploy を実行してください（1-2分待つ）

# CF_API_TOKEN = your-cloudflare-api-token
# CF_ZONE_ID   = your-zone-id
# VPS_IP       = xxx.xxx.xxx.xxx

# =============================================================================
# オプション: デフォルト値を上書きする場合のみ設定
# =============================================================================

# APP_NAME = myapp        # デフォルト: フォルダ名
# IMAGE_NAME = myapp      # デフォルト: フォルダ名
